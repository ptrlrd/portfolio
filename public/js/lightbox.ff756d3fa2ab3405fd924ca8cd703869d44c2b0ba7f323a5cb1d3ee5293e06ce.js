(()=>{function d(r){var i=/^(?:https?:\/\/)?(?:www\.)?(?:youtu\.be\/|youtube\.com\/(?:embed\/|v\/|watch\?v=|watch\?.+&v=))((\w|-){11})(?:\S+)?$/;return r.match(i)?RegExp.$1:!1}function c(r){var i=/([a-z\-_0-9\/\:\.]*\.(jpg|jpeg|png|gif))/i;return!!r.match(i)}function u(r,i){var t=!1,e=new XMLHttpRequest;e.onreadystatechange=function(){if(e.readyState==XMLHttpRequest.DONE)if(e.status==200){var o=JSON.parse(e.responseText);t=o.video_id,console.log(t),i.classList.add("lightbox-vimeo"),i.setAttribute("data-id",t),i.addEventListener("click",function(s){s.preventDefault(),document.getElementById("lightbox").innerHTML='<a id="close"></a><a id="next">&rsaquo;</a><a id="prev">&lsaquo;</a><div class="videoWrapperContainer"><div class="videoWrapper"><iframe src="https://player.vimeo.com/video/'+i.getAttribute("data-id")+'/?autoplay=1&byline=0&title=0&portrait=0" webkitallowfullscreen mozallowfullscreen allowfullscreen></iframe></div></div>',document.getElementById("lightbox").style.display="block",n(this)})}else e.status==400?alert("There was an error 400"):alert("something else other than 200 was returned")},e.open("GET","https://vimeo.com/api/oembed.json?url="+r,!0),e.send()}function n(r){var i=document.body.querySelectorAll(".gallery");if(i.forEach(a=>{a.classList.remove("gallery")}),r.closest("ul, p")){var t=r.closest("ul, p").querySelectorAll("a[class*='lightbox-']");t.forEach(a=>{a.classList.remove("current")}),t.forEach(a=>{r.getAttribute("href")==a.getAttribute("href")&&a.classList.add("current")}),t.length>1&&(document.getElementById("lightbox").classList.add("gallery"),t.forEach(a=>{a.classList.add("gallery")}));var e,o=document.querySelectorAll("a.gallery");if(Object.keys(o).forEach(function(a){o[a].classList.contains("current")&&(e=a)}),e==o.length-1)var s=0;else var s=parseInt(e)+1;if(e==0)var l=parseInt(o.length-1);else var l=parseInt(e)-1;document.getElementById("next").addEventListener("click",function(){o[s].click()}),document.getElementById("prev").addEventListener("click",function(){o[l].click()})}}document.addEventListener("DOMContentLoaded",function(){var r=document.createElement("div");r.setAttribute("id","lightbox"),document.body.appendChild(r);var i=document.querySelectorAll("a");i.forEach(t=>{var e=t.getAttribute("href");if(e&&(e.indexOf("vimeo")!==-1&&!t.classList.contains("no-lightbox")&&u(e,t),d(e)&&!t.classList.contains("no-lightbox")&&(t.classList.add("lightbox-youtube"),t.setAttribute("data-id",d(e))),c(e)&&!t.classList.contains("no-lightbox"))){t.classList.add("lightbox-image");var o=t.getAttribute("href"),s=o.split("/").pop(),l=s.split("."),a=l[0];t.setAttribute("title",a)}}),document.getElementById("lightbox").addEventListener("click",function(t){t.target.id!="next"&&t.target.id!="prev"&&(this.innerHTML="",document.getElementById("lightbox").style.display="none")});var i=document.querySelectorAll("a.lightbox-youtube");i.forEach(t=>{t.addEventListener("click",function(e){e.preventDefault(),document.getElementById("lightbox").innerHTML='<a id="close"></a><a id="next">&rsaquo;</a><a id="prev">&lsaquo;</a><div class="videoWrapperContainer"><div class="videoWrapper"><iframe src="https://www.youtube.com/embed/'+this.getAttribute("data-id")+'?autoplay=1&showinfo=0&rel=0"></iframe></div>',document.getElementById("lightbox").style.display="block",n(this)})});var i=document.querySelectorAll("a.lightbox-image");i.forEach(t=>{t.addEventListener("click",function(e){e.preventDefault(),document.getElementById("lightbox").innerHTML=`<a id="close"></a><a id="next">&rsaquo;</a><a id="prev">&lsaquo;</a><div class="img" style="background: url('`+this.getAttribute("href")+`') center center / contain no-repeat;" title="`+this.getAttribute("title")+'" ><img src="'+this.getAttribute("href")+'" alt="'+this.getAttribute("title")+'" /></div><span>'+this.getAttribute("title")+"</span>",document.getElementById("lightbox").style.display="block",n(this)})})});})();
